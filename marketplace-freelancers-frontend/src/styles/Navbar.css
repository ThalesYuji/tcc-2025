/* ==============================
   NAVBAR MODERNA - REDESENHADA
   ============================== */

.navbar {
  position: sticky;
  top: 0;
  z-index: 1000;
  display: grid;
  grid-template-columns: auto 1fr auto;
  align-items: center;
  background: linear-gradient(135deg, #1e293b 0%, #334155 100%);
  padding: var(--space-md) var(--space-xl);
  height: 80px;
  box-shadow: var(--sombra-md);
  border-bottom: 1px solid rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(10px);
}

/* ==============================
   LOGO E BRAND
   ============================== */
.nav-brand {
  display: flex;
  align-items: center;
  cursor: pointer;
  transition: transform var(--transition-fast);
  padding: var(--space-xs);
  border-radius: var(--radius-md);
}
.nav-brand:hover { transform: scale(1.02); background: rgba(255,255,255,.05); }
.logo-img { height: 48px; width: auto; filter: drop-shadow(0 2px 4px rgba(0,0,0,.1)); }

/* ==============================
   NAVEGAÇÃO PRINCIPAL - CENTRALIZADA
   ============================== */
.nav-links { display:flex; align-items:center; justify-content:center; gap: var(--space-sm); flex:1; }
.nav-links-main { display:flex; align-items:center; gap: var(--space-sm); }

/* ==============================
   BOTÕES DE NAVEGAÇÃO
   ============================== */
.nav-btn{
  display:flex; align-items:center; gap: var(--space-xs);
  background: transparent; border: 0;
  padding: var(--space-sm) var(--space-md);
  border-radius: var(--radius-md);
  font-weight: 500; color: rgba(255,255,255,.8);
  font-size: .9rem; transition: all var(--transition-normal);
  cursor: pointer; position: relative; white-space: nowrap;
}
.nav-btn::before{
  content:''; position:absolute; bottom:0; left:50%;
  width:0; height:2px; background:#60A5FA; transition: all var(--transition-normal);
  transform: translateX(-50%);
}
.nav-btn:hover{ background: rgba(255,255,255,.1); color:#fff; transform: translateY(-1px); }
.nav-btn:hover::before{ width:80%; }
.nav-btn.active{
  background: linear-gradient(135deg,#3B82F6 0%,#2563EB 100%);
  color:#fff; font-weight:600; box-shadow: 0 2px 8px rgba(59,130,246,.3);
  transform: translateY(-1px);
}
.nav-btn.active::before{ display:none; }
.nav-btn svg{ font-size:1rem; transition: transform var(--transition-fast); }
.nav-btn:hover svg{ transform: scale(1.1); }

/* ==============================
   AÇÕES À DIREITA (SINO + AVATAR)
   ============================== */
.nav-actions{
  display:flex; align-items:center; justify-content:flex-end;
  gap: var(--space-sm);
}

/* Garante ancoragem para o dropdown do usuário */
.menu-usuario{
  position: relative;            /* <- pai relativo do dropdown  */
  display:flex; align-items:center;
}

/* ===== Notificações (classes reais do componente) ===== */
.notificacoes-dropdown .notificacoes-icon-btn{
  display:flex; align-items:center; justify-content:center;
  width:44px; height:44px; border:0; background:transparent;
  border-radius: var(--radius-full);
  color: rgba(255,255,255,.85); font-size:1.1rem; cursor:pointer;
  transition: all var(--transition-normal); position: relative;
}
.notificacoes-dropdown .notificacoes-icon-btn:hover{
  background: rgba(255,255,255,.1); color:#fff; transform: scale(1.05);
}
.notificacoes-dropdown .notificacoes-badge{
  position:absolute; top:-4px; right:-2px;
}

/* ==============================
   AVATAR
   ============================== */
.avatar{
  width:48px; height:48px;
  border-radius: var(--radius-full);
  background: linear-gradient(135deg,var(--cor-primaria) 0%,var(--cor-primaria-dark) 100%);
  border:2px solid rgba(255,255,255,.2);
  cursor:pointer; object-fit:cover;
  transition: all var(--transition-normal);
  display:flex; align-items:center; justify-content:center;
  font-weight:600; color:#fff; font-size:1.1rem;
  box-shadow: var(--sombra-sm);
  position: static !important;  /* <- impede “flutuar” na tela */
}
.avatar::after{
  content:''; position:absolute; inset:-4px; border-radius: var(--radius-full);
  border:2px solid transparent;
  background: linear-gradient(135deg,var(--cor-primaria),var(--cor-sucesso)) border-box;
  mask: linear-gradient(#fff 0 0) padding-box, linear-gradient(#fff 0 0);
  mask-composite: exclude; opacity:0; transition: opacity var(--transition-normal);
}
.avatar:hover{ transform: scale(1.05); box-shadow: var(--sombra-lg); }
.avatar:hover::after{ opacity:1; }

/* ==============================
   DROPDOWN MENU (usuário)
   ============================== */
.menu-dropdown{
  position:absolute; right:0; top: calc(100% + 10px);
  background: rgba(51,65,85,.98);
  border-radius: var(--radius-lg); box-shadow: var(--sombra-xl);
  border:1px solid rgba(255,255,255,.1);
  padding: var(--space-sm) 0; min-width:280px; max-width:320px;
  display:flex; flex-direction:column; z-index:2000;
  animation: dropdownSlideIn .3s ease-out; backdrop-filter: blur(10px);
}
.menu-dropdown::before{
  content:''; position:absolute; top:-8px; right:16px;
  width:0; height:0; border-left:8px solid transparent; border-right:8px solid transparent;
  border-bottom:8px solid rgba(51,65,85,.98);
}
.usuario-nome{
  font-weight:600; padding: var(--space-md);
  border-bottom:1px solid rgba(255,255,255,.1);
  color:#fff; font-size:.95rem; background: rgba(255,255,255,.05);
  margin-bottom: var(--space-xs); line-height:1.4;
}
.menu-dropdown button{
  background:transparent; border:0; text-align:left;
  padding: var(--space-sm) var(--space-md); font-size:.9rem;
  color: rgba(255,255,255,.8); cursor:pointer; transition: all var(--transition-fast);
  display:flex; align-items:center; gap: var(--space-sm);
  margin:2px var(--space-xs); border-radius: var(--radius-sm);
  width: calc(100% - var(--space-md));
}
.menu-dropdown button:hover{ background: rgba(255,255,255,.1); color:#fff; transform: translateX(4px); }
.menu-dropdown button:last-child{
  margin-top: var(--space-xs); border-top:1px solid rgba(255,255,255,.1);
  padding-top: var(--space-md); color:#FF6B6B;
}
.menu-dropdown button:last-child:hover{ background: rgba(239,68,68,.1); color: var(--cor-erro); }
.menu-dropdown button svg{ font-size:.9rem; transition: transform var(--transition-fast); }
.menu-dropdown button:hover svg{ transform: scale(1.1); }

/* ==============================
   ANIMAÇÕES
   ============================== */
@keyframes dropdownSlideIn{
  from{ opacity:0; transform: translateY(-10px) scale(.95); }
  to{   opacity:1; transform: translateY(0)      scale(1);  }
}

/* ==============================
   RESPONSIVIDADE
   ============================== */
@media (max-width:1200px){
  .nav-btn{ padding: var(--space-xs) var(--space-sm); font-size:.85rem; }
  .nav-btn span{ display:none; }
  .nav-btn svg{ font-size:1.1rem; }
}
@media (max-width:1024px){
  .navbar{ padding: var(--space-sm) var(--space-lg); height:70px; }
  .nav-links{ gap: var(--space-xs); }
  .logo-img{ height:40px; }
  .avatar{ width:42px; height:42px; font-size:1rem; }
}
@media (max-width:768px){
  .navbar{ padding: var(--space-sm) var(--space-md); height:64px; }
  .nav-links{ overflow-x:auto; scrollbar-width:none; -ms-overflow-style:none; }
  .nav-links::-webkit-scrollbar{ display:none; }
  .nav-btn{ padding: var(--space-xs); min-width:44px; justify-content:center; }
  .menu-usuario{ margin-left: var(--space-sm); }
  .menu-dropdown{ min-width:200px; right:0; }
  .menu-dropdown::before{ right:16px; }
}
@media (max-width:480px){
  .navbar{ padding: var(--space-sm); height:60px; }
  .logo-img{ height:36px; }
  .avatar{ width:38px; height:38px; font-size:.9rem; }
  .nav-btn{ padding: var(--space-xs); min-width:40px; }
  .nav-btn svg{ font-size:1rem; }
}

/* ==============================
   ESTADOS ESPECIAIS
   ============================== */
.navbar.scrolled{ background: rgba(30,41,59,.95); backdrop-filter: blur(10px); }
